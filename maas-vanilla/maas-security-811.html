<!DOCTYPE html>
<html>
  <head>
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
  </head>
<body>
<div style="float:left; width:20%;">
    <a href="http://stormrider.io/maas-rad.html">RAD index</a>
<h3>
<a href="maas-documentation-25.html">Introduction
</a>
</h3>
<ul>
<li>
<a href="about-maas-840.html">About MAAS
</a>
</li>
<li>
<a href="give-me-an-example-of-maas-1314.html">&ldquo;Give me an example&rdquo;
</a>
</li>
<li>
<a href="explore-maas-787.html">Explore MAAS
</a>
</li>
<li>
<a href="whats-new-in-maas-2-8-1655.html">What&rsquo;s new in 2.8
</a>
</li>
<li>
<a href="https://maas.io/install">Quick start
</a>
</li>
</ul>
<h3>Installing MAAS
</h3>
<ul>
<li>
<a href="maas-requirements-789.html">Requirements
</a>
</li>
<li>
<a href="maas-installation-from-a-snap-773.html">Installation
</a>
</li>
<li>
<a href="configuration-journey-781.html">Configuration journey
</a>
</li>
<li>
<a href="installation-and-configuration-checklist-750.html">Setup checklist
</a>
</li>
</ul>
<h3>
  <a href="introduction-to-controllers-786.html">Controllers
  </a>
</h3>
<ul>
  <li>
    <a href="maas-communication-783.html">Communication
    </a>
  </li>
  <li>
    <a href="rack-controllers-771.html">Rack controllers
    </a>
  </li>
  <li>
    <a href="region-controllers-772.html">Region controllers
    </a>
  </li>
  <li>
    <a href="high-availability-804.html">High availability
    </a>
  </li>
</ul>
<h3>
  <a href="introduction-to-machines-829.html">Machines
  </a>
</h3>
<ul>
  <li>
    <a href="add-machines-821.html">Add machines
    </a>
  </li>
  <li>
    <a href="power-management-830.html">Power management
    </a>
  </li>
  <li>
    <a href="commission-machines-822.html">Commission machines
    </a>
  </li>
  <li>Testing
  </li>
  <li>
    <a href="hardware-testing-826.html">Hardware testing
    </a>
  </li>
  <li>
    <a href="network-testing-1267.html">Network testing
    </a>
  </li>
  <li>
    <a href="commissioning-and-hardware-testing-scripts-833.html">Commissioning and hardware testing scripts
    </a>
  </li>
  <li>
    <a href="deploy-machines-825.html">Deploy machines
    </a>
  </li>
  <li>
    <a href="maas-tags-834.html">Tags
    </a>
  </li>
  <li>
    <a href="custom-machine-setup-824.html">Custom machine setup
    </a>
  </li>
  <li>
    <a href="kernel-boot-options-827.html">Kernel boot options
    </a>
  </li>
  <li>
    <a href="resource-pools-831.html">Resource pools
    </a>
  </li>
  <li>
    <a href="storage-775.html">Storage
    </a>
  </li>
  <li>
    <a href="vmware-vmfs-datastores-780.html">VMware VMFS datastores
    </a>
  </li>
  <li>
    <a href="ubuntu-kernels-828.html">Ubuntu kernels
    </a>
  </li>
</ul>
<h3>
  <a href="images-754.html">Images
  </a>
</h3>
<ul>
  <li>
    <a href="select-and-import-images-751.html">Select and import images
    </a>
  </li>
  <li>
    <a href="local-image-mirror-752.html">Local image mirror
    </a>
  </li>
  <li>
    <a href="vmware-images-753.html">VMWare images
    </a>
  </li>
</ul>
<h3>
  <a href="networking-768.html">Networking
  </a>
</h3>
<ul>
  <li>
    <a href="subnet-management-766.html">Subnet management
    </a>
  </li>
  <li>
    <a href="managing-dhcp-759.html">DHCP
    </a>
  </li>
  <li>
    <a href="ip-ranges-760.html">IP ranges
    </a>
  </li>
  <li>
    <a href="proxy-763.html">Proxy
    </a>
  </li>
  <li>
    <a href="ntp-services-762.html">NTP
    </a>
  </li>
  <li>
    <a href="network-discovery-758.html">Network discovery
    </a>
  </li>
  <li>
    <a href="ipv6-addressing-761.html">IPv6
    </a>
  </li>
  <li>
    <a href="configuring-tls-encryption-764.html">SSL
    </a>
  </li>
  <li>
    <a href="managing-stp-765.html">STP
    </a>
  </li>
  <li>
    <a href="availability-zones-820.html">Availability zones (AZs)
    </a>
  </li>
</ul>
<h3>
  <a href="introduction-to-vm-hosting-1524.html">VM hosting
  </a>
</h3>
<ul>
  <li>
    <a href="vm-host-networking-1526.html">VM host networking
    </a>
  </li>
  <li>
    <a href="adding-a-vm-host-1549.html">Add a VM host
    </a>
  </li>
  <li>
    <a href="vm-host-storage-pools-1525.html">VM host storage pools
    </a>
  </li>
  <li>
    <a href="creating-and-deleting-vms-806.html">Creating and deleting VMs
    </a>
  </li>
</ul>
<h3>Operations
</h3>
<ul>
  <li>
    <a href="prometheus-metrics-813.html">Prometheus metrics
    </a>
  </li>
  <li>
    <a href="backup-792.html">Backup
    </a>
  </li>
  <li>
    <a href="hardening-your-maas-installation-1381.html">MAAS security
    </a>
  </li>
  <li>
    <a href="maas-logging-1468.html">Logging
    </a>
  </li>
  <li>
    <a href="commissioning-logs-1478.html">Commissioning logs
    </a>
  </li>
  <li>
    <a href="user-accounts-790.html">User accounts
    </a>
  </li>
  <li>
    <a href="interactive-search-819.html">Interactive search
    </a>
  </li>
</ul>
<h3>
  <a href="concepts-and-terms-785.html">Concepts &amp; terms
  </a>
</h3>
<ul>
  <li>
    <a href="concepts-and-terms-785.html#heading--network-tutorial">Brief network tutorial
    </a>
  </li>
</ul>
<h3>
  <a href="maas-cli-802.html">CLI
  </a>
</h3>
<ul>
  <li>
    <a href="common-cli-tasks-794.html">Common tasks
    </a>
  </li>
  <li>
    <a href="audit-event-logs-791.html">Audit event logs
    </a>
  </li>
  <li>
    <a href="cli-kernel-management-799.html">Kernel management
    </a>
  </li>
  <li>
    <a href="cli-image-management-797.html">Image management
    </a>
  </li>
  <li>
    <a href="cli-interface-management-798.html">Interface management
    </a>
  </li>
  <li>
    <a href="cli-tag-management-801.html">Tag management
    </a>
  </li>
  <li>
    <a href="cli-resource-pool-management-800.html">Resource pool management
    </a>
  </li>
  <li>
    <a href="cli-dhcp-snippet-management-796.html">DHCP snippet management
    </a>
  </li>
  <li>
    <a href="cli-commissioning-and-hardware-testing-scripts-832.html">Commissioning and hardware testing scripts
    </a>
  </li>
  <li>
    <a href="cli-advanced-tasks-793.html">Advanced tasks
    </a>
  </li>
  <li>
    <a href="cli-composable-hardware-795.html">Composable hardware
    </a>
  </li>
  <li>
    <a href="python-api-client-810.html">API client
    </a>
  </li>
</ul>
<h3>
  <a href="https://maas.io/docs/api">API documentation
  </a>
</h3>
<ul>
  <li>
    <a href="api-authentication-742.html">API authentication
    </a>
  </li>
</ul>
<h3>
  <a href="troubleshooting-837.html">Troubleshoot
  </a>
</h3>
<ul>
  <li>
    <a href="getting-help-838.html">Getting help
    </a>
  </li>
  <li>
    <a href="tips-tricks-and-traps-1506.html">Tips, tricks, and traps
    </a>
  </li>
  <li>
    <a href="https://old-docs.maas.io/2.5/en/">MAAS 2.5 (+ earlier) doc
    </a>
  </li>
</ul>
<h3>
  <a href="whats-new-in-maas-2-8-1655.html">Release notes
  </a>
</h3>
<h3>
  <a href="writing-guide-747.html">Help improve these docs
  </a>
</h3>
    </div>
<div class="container" style="float:right; width:75%;">
<h1>MAAS security</h1><p>[note type=&rdquo;warning&rdquo; status=&rdquo;Deprecated page&rdquo;]
This page has been deprecated in favor of newer terminology and technology.  Please see the <a href="hardening-your-maas-installation-1381.html">updated page</a>.
</blockquote></p>
<p>Computer security is a wide-ranging and essential discipline impossible to cover completely here. There are, however, some relatively simple steps you can take to harden the security of your MAAS installation on your rack and region controllers.</p>
<p>[note type=&rdquo;caution&rdquo;]
There are too many use cases and operating systems to make any meaningful security suggestions in this context for your deployed machines.
</blockquote></p>
<h2 id="heading--maas-and-root-users">`maas` and `root` users</h2>

<p>You should pick good passwords and store them securely (e.g. in a KeePassX password database). Perform user administration only via the web UI. Only share the <code>maas</code> and <code>root</code> user passwords with administrators.</p>
<h2 id="heading--ssl">SSL</h2>

<p>MAAS doesn&rsquo;t yet support SSL natively. In the meantime, you can use a reverse SSL proxy to restrict outside access to your region controllers. Use NGINX or Apache to accept HTTPS requests, and use HTTP to communicate with MAAS via port 5240,  serving results back through HTTPS to the requester.</p>
<p>See <a href="ssl-764.html">SSL</a> for configuration examples.</p>
<h2 id="heading--conf-file-permissions">Conf file permissions</h2>

<p>MAAS configuration files should be set to have permission <code>640</code>: readable by logins belonging to the <code>maas</code> group and writeable only by the <code>root</code> user. Currently, the <code>regiond.conf</code> file contains the login credentials for the PostgreSQL database used by MAAS to keep track of all machines, networks, and configuration.</p>
<pre><code class="bash">chmod 640 /etc/maas/rackd.conf
chmod 640 /etc/maas/regiond.conf
</code></pre>

<p>After:</p>
<pre><code class="no-highlight">-rw-r----- 1 root maas   90 Sep 27 14:13 rackd.conf
-rw-r----- 1 root maas  157 Sep 27 14:14 regiond.conf
</code></pre>

<h2 id="heading--firewalls">Firewalls</h2>

<p>The <a href="rack-controller-771.html#communication-with-the-region-controller">Rack controller</a> page contains a list of ports used by MAAS for communications between rack and region controllers. Consider setting your firewall on your rack and region controllers to disallow communication on all ports except those used by MAAS.</p>
<h2 id="heading--shared-secrets">Shared secrets</h2>

<p>When you add a new rack or region controller, MAAS asks for a shared secret it will use to communicate with the rest of MAAS. This secret is also exposed in the web UI when you click the &lsquo;Add rack controller&rsquo; button on the Controllers page.</p>
<p>MAAS automatically generates this secret when your first region controller installed, and stores the secret in a plain text file. </p>
<p>You should also verify that any &lsquo;secret&rsquo; files on region and rack controllers are <code>600</code> or readable and writeable only by the &lsquo;maas&rsquo; user.</p>
<pre><code class="bash">sudo chmod 600 /var/lib/maas/secret
</code></pre>

<p>And after:</p>
<pre><code class="no-highlight">-rw------- 1 maas maas 32 Sep 27 14:15 /var/lib/maas/secret
</code></pre>

<!-- LINKS -->
</div>
</body>
</html>