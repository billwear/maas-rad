<!DOCTYPE html>
<html>
  <head>
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
  </head>
<body>
<div style="float:left; width:20%;">
    <a href="http://stormrider.io/maas-rad.html">RAD index</a>
<h3>
<a href="maas-documentation-25.html">Introduction
</a>
</h3>
<ul>
<li>
<a href="about-maas-840.html">About MAAS
</a>
</li>
<li>
<a href="give-me-an-example-of-maas-1314.html">&ldquo;Give me an example&rdquo;
</a>
</li>
<li>
<a href="explore-maas-787.html">Explore MAAS
</a>
</li>
<li>
<a href="whats-new-in-maas-2-8-1655.html">What&rsquo;s new in 2.8
</a>
</li>
<li>
<a href="https://maas.io/install">Quick start
</a>
</li>
</ul>
<h3>Installing MAAS
</h3>
<ul>
<li>
<a href="maas-requirements-789.html">Requirements
</a>
</li>
<li>
<a href="maas-installation-from-a-snap-773.html">Installation
</a>
</li>
<li>
<a href="configuration-journey-781.html">Configuration journey
</a>
</li>
<li>
<a href="installation-and-configuration-checklist-750.html">Setup checklist
</a>
</li>
</ul>
<h3>
  <a href="introduction-to-controllers-786.html">Controllers
  </a>
</h3>
<ul>
  <li>
    <a href="maas-communication-783.html">Communication
    </a>
  </li>
  <li>
    <a href="rack-controllers-771.html">Rack controllers
    </a>
  </li>
  <li>
    <a href="region-controllers-772.html">Region controllers
    </a>
  </li>
  <li>
    <a href="high-availability-804.html">High availability
    </a>
  </li>
</ul>
<h3>
  <a href="introduction-to-machines-829.html">Machines
  </a>
</h3>
<ul>
  <li>
    <a href="add-machines-821.html">Add machines
    </a>
  </li>
  <li>
    <a href="power-management-830.html">Power management
    </a>
  </li>
  <li>
    <a href="commission-machines-822.html">Commission machines
    </a>
  </li>
  <li>Testing
  </li>
  <li>
    <a href="hardware-testing-826.html">Hardware testing
    </a>
  </li>
  <li>
    <a href="network-testing-1267.html">Network testing
    </a>
  </li>
  <li>
    <a href="commissioning-and-hardware-testing-scripts-833.html">Commissioning and hardware testing scripts
    </a>
  </li>
  <li>
    <a href="deploy-machines-825.html">Deploy machines
    </a>
  </li>
  <li>
    <a href="maas-tags-834.html">Tags
    </a>
  </li>
  <li>
    <a href="custom-machine-setup-824.html">Custom machine setup
    </a>
  </li>
  <li>
    <a href="kernel-boot-options-827.html">Kernel boot options
    </a>
  </li>
  <li>
    <a href="resource-pools-831.html">Resource pools
    </a>
  </li>
  <li>
    <a href="storage-775.html">Storage
    </a>
  </li>
  <li>
    <a href="vmware-vmfs-datastores-780.html">VMware VMFS datastores
    </a>
  </li>
  <li>
    <a href="ubuntu-kernels-828.html">Ubuntu kernels
    </a>
  </li>
</ul>
<h3>
  <a href="images-754.html">Images
  </a>
</h3>
<ul>
  <li>
    <a href="select-and-import-images-751.html">Select and import images
    </a>
  </li>
  <li>
    <a href="local-image-mirror-752.html">Local image mirror
    </a>
  </li>
  <li>
    <a href="vmware-images-753.html">VMWare images
    </a>
  </li>
</ul>
<h3>
  <a href="networking-768.html">Networking
  </a>
</h3>
<ul>
  <li>
    <a href="subnet-management-766.html">Subnet management
    </a>
  </li>
  <li>
    <a href="managing-dhcp-759.html">DHCP
    </a>
  </li>
  <li>
    <a href="ip-ranges-760.html">IP ranges
    </a>
  </li>
  <li>
    <a href="proxy-763.html">Proxy
    </a>
  </li>
  <li>
    <a href="ntp-services-762.html">NTP
    </a>
  </li>
  <li>
    <a href="network-discovery-758.html">Network discovery
    </a>
  </li>
  <li>
    <a href="ipv6-addressing-761.html">IPv6
    </a>
  </li>
  <li>
    <a href="configuring-tls-encryption-764.html">SSL
    </a>
  </li>
  <li>
    <a href="managing-stp-765.html">STP
    </a>
  </li>
  <li>
    <a href="availability-zones-820.html">Availability zones (AZs)
    </a>
  </li>
</ul>
<h3>
  <a href="introduction-to-vm-hosting-1524.html">VM hosting
  </a>
</h3>
<ul>
  <li>
    <a href="vm-host-networking-1526.html">VM host networking
    </a>
  </li>
  <li>
    <a href="adding-a-vm-host-1549.html">Add a VM host
    </a>
  </li>
  <li>
    <a href="vm-host-storage-pools-1525.html">VM host storage pools
    </a>
  </li>
  <li>
    <a href="creating-and-deleting-vms-806.html">Creating and deleting VMs
    </a>
  </li>
</ul>
<h3>Operations
</h3>
<ul>
  <li>
    <a href="prometheus-metrics-813.html">Prometheus metrics
    </a>
  </li>
  <li>
    <a href="backup-792.html">Backup
    </a>
  </li>
  <li>
    <a href="hardening-your-maas-installation-1381.html">MAAS security
    </a>
  </li>
  <li>
    <a href="maas-logging-1468.html">Logging
    </a>
  </li>
  <li>
    <a href="commissioning-logs-1478.html">Commissioning logs
    </a>
  </li>
  <li>
    <a href="user-accounts-790.html">User accounts
    </a>
  </li>
  <li>
    <a href="interactive-search-819.html">Interactive search
    </a>
  </li>
</ul>
<h3>
  <a href="concepts-and-terms-785.html">Concepts &amp; terms
  </a>
</h3>
<ul>
  <li>
    <a href="concepts-and-terms-785.html#heading--network-tutorial">Brief network tutorial
    </a>
  </li>
</ul>
<h3>
  <a href="maas-cli-802.html">CLI
  </a>
</h3>
<ul>
  <li>
    <a href="common-cli-tasks-794.html">Common tasks
    </a>
  </li>
  <li>
    <a href="audit-event-logs-791.html">Audit event logs
    </a>
  </li>
  <li>
    <a href="cli-kernel-management-799.html">Kernel management
    </a>
  </li>
  <li>
    <a href="cli-image-management-797.html">Image management
    </a>
  </li>
  <li>
    <a href="cli-interface-management-798.html">Interface management
    </a>
  </li>
  <li>
    <a href="cli-tag-management-801.html">Tag management
    </a>
  </li>
  <li>
    <a href="cli-resource-pool-management-800.html">Resource pool management
    </a>
  </li>
  <li>
    <a href="cli-dhcp-snippet-management-796.html">DHCP snippet management
    </a>
  </li>
  <li>
    <a href="cli-commissioning-and-hardware-testing-scripts-832.html">Commissioning and hardware testing scripts
    </a>
  </li>
  <li>
    <a href="cli-advanced-tasks-793.html">Advanced tasks
    </a>
  </li>
  <li>
    <a href="cli-composable-hardware-795.html">Composable hardware
    </a>
  </li>
  <li>
    <a href="python-api-client-810.html">API client
    </a>
  </li>
</ul>
<h3>
  <a href="https://maas.io/docs/api">API documentation
  </a>
</h3>
<ul>
  <li>
    <a href="api-authentication-742.html">API authentication
    </a>
  </li>
</ul>
<h3>
  <a href="troubleshooting-837.html">Troubleshoot
  </a>
</h3>
<ul>
  <li>
    <a href="getting-help-838.html">Getting help
    </a>
  </li>
  <li>
    <a href="tips-tricks-and-traps-1506.html">Tips, tricks, and traps
    </a>
  </li>
  <li>
    <a href="https://old-docs.maas.io/2.5/en/">MAAS 2.5 (+ earlier) doc
    </a>
  </li>
</ul>
<h3>
  <a href="whats-new-in-maas-2-8-1655.html">Release notes
  </a>
</h3>
<h3>
  <a href="writing-guide-747.html">Help improve these docs
  </a>
</h3>
    </div>
<div class="container" style="float:right; width:75%;">
<h1>MAAS installation from packages</h1><p>[note type=&rdquo;warning&rdquo; status=&rdquo;Procedure for versions 2.7 and below only&rdquo;]
This page covers the obsoleted use of deb/APT packages to install MAAS.  With the advent of MAAS 2.7.0, installation via <a href="maas-installation-from-a-snap-773.html">snap</a> is the recommended method to acquire MAAS.  Please note that using this method with versions 2.8 and above is not recommended.
[/note]  </p>
<p>You may want to consider an installation within <a href="install-with-lxd-757.html">LXD containers</a>. These containers allow MAAS nodes to also run as local containers and are ideal for testing and experimenting with MAAS.</p>
<h2 id="heading--packages">Packages</h2>

<p>There are three packages to consider when installing MAAS:</p>
<ul>
<li><code>maas-region-controller</code> - region API server, database, DNS, <a href="proxy-763.html">HTTP proxy</a>, and web UI</li>
<li><code>maas-rack-controller</code> - <a href="rack-controllers-771.html">rack controller</a> and <a href="managing-dhcp-759.html">DHCP</a></li>
<li><code>maas</code> - a metapackage that installs both the above packages to provide a complete MAAS environment</li>
</ul>
<p>Each of the above packages has its dependencies. That is, each will bring in other MAAS packages not listed above. You can see the full list of MAAS packages with the command:</p>
<pre><code class="bash">apt-cache search maas
</code></pre>

<p>As an example, running this command might produce output that looks like this:</p>
<p><img alt="apt-cache-maas-output|690x339" src="../imagesgiaZfenWDEkils5KCgA6BlgC6L.jpeg"> </p>
<!-- ui
![apt-cache-maas-output|690x339](../imagesgiaZfenWDEkils5KCgA6BlgC6L.jpeg) 
 ui -->

<!-- cli
### ADD SUITABLE CLI EXAMPLE OR PRINTOUT ###
 cli -->

<p>The &lsquo;maas&rsquo; metapackage is the recommended way to install MAAS. See the <a href="about-maas-840.html#heading--key-components-and-colocation-of-all-services">Introduction</a> for more detail on colocating all services on a single host.  Note that high availability with MAAS involves installing multiple region/rack controllers. See <a href="high-availability-804.html">MAAS HA</a> for more information on this topic.</p>
<h2 id="heading--package-repositories">Package repositories</h2>

<p>While MAAS is available in the normal Ubuntu archives, the available packages may be lagging non-archive, but still stable, versions.  For example, you can check the available versions of MAAS by typing: </p>
<pre><code class="bash">apt-cache madison maas
</code></pre>

<p>which produces output similar to this:</p>
<p><img alt="apt-cache-madison-output|690x100" src="../imagesvbYbb4hTxUaiufHj4aErENwkVAh.jpeg"> </p>
<!-- ui
![apt-cache-madison-output|690x100](../imagesvbYbb4hTxUaiufHj4aErENwkVAh.jpeg) 
 ui -->

<!-- cli
### ADD SUITABLE CLI EXAMPLE OR PRINTOUT ###
 cli -->

<p>You can install a newer stable version via PPAs listed on the <a href="https://launchpad.net/~maas">MAAS launchpad</a>, including:</p>
<ul>
<li><a href="https://launchpad.net/~maas/+archive/ubuntu/2.6">ppa:maas/2.6</a></li>
<li><a href="https://launchpad.net/~maas/+archive/ubuntu/2.7">ppa:maas/2.7</a></li>
</ul>
<p>For example, to add the 2.7 PPA, type:</p>
<pre><code class="bash">sudo apt-add-repository -yu ppa:maas/2.7
</code></pre>

<p>which produces output similar to:</p>
<p><img alt="add-maas-2-7-ppa|690x494" src="../imagesp65sJ6uRq2w22SFfxvLze2dEjsP.jpeg"> </p>
<!-- ui
![add-maas-2-7-ppa|690x494](../imagesp65sJ6uRq2w22SFfxvLze2dEjsP.jpeg) 
 ui -->

<!-- cli
### ADD SUITABLE CLI EXAMPLE OR PRINTOUT ###
 cli -->

<p>If you check available versions again, you will see that the new repository is now available:</p>
<p><img alt="apt-cache-madison-2-7|690x126" src="../images1ukIlIJPuPTYDZa2STEcNGJF1hv.jpeg"> </p>
<!-- ui
![apt-cache-madison-2-7|690x126](../images1ukIlIJPuPTYDZa2STEcNGJF1hv.jpeg) 
 ui -->

<!-- cli
### ADD SUITABLE CLI EXAMPLE OR PRINTOUT ###
 cli -->

<h2 id="heading--installation-scenarios">Installation scenarios</h2>

<p>The recommended way to set up an initial MAAS environment is to put everything on one machine:</p>
<pre><code class="bash">sudo apt install maas
</code></pre>

<p>Executing this command leads you to a list of dependent packages to be installed, and a summary prompt that lets you choose whether to continue with the install:</p>
<p><img alt="apt-install-maas-y-n|522x499" src="../images26gNdi5vdnCMEDqgO9bp2xXz68R.jpeg"> </p>
<!-- ui
![apt-install-maas-y-n|522x499](../images26gNdi5vdnCMEDqgO9bp2xXz68R.jpeg) 
 ui -->

<!-- cli
### ADD SUITABLE CLI EXAMPLE OR PRINTOUT ###
 cli -->

<p>Choosing &ldquo;Y&rdquo; proceeds with a standard <code>apt</code> package install.</p>
<h3>Distributed environment</h3>

<p>For a more distributed environment, you can place the region controller on one machine:</p>

<pre><code class="bash">sudo apt install maas-region-controller
</code></pre>

<p>and the rack controller (see <a href="rack-controllers-771.html">Rack controller</a> for details) on another:</p>
<pre><code class="bash">sudo apt install maas-rack-controller
sudo maas-rack register
</code></pre>

<p>These two steps will lead you through two similar <code>apt</code> install sequences.</p>
<h2 id="heading--creating-a-maas-user">Creating a MAAS user</h2>

<p>Finally, you will need to create a MAAS administrator user to access the web UI:</p>

<pre><code class="bash">sudo maas createadmin --username=$PROFILE --email=$EMAIL_ADDRESS
</code></pre>

<p>For example, the process might go like this:</p>

<p><img alt="apt-create-admin-sequence|690x67" src="../images72BsWNvix7Wfm45vFLbMIjV6WBX.jpeg"> </p>
<!-- ui
![apt-create-admin-sequence|690x67](../images72BsWNvix7Wfm45vFLbMIjV6WBX.jpeg) 
 ui -->

<!-- cli
### ADD SUITABLE CLI EXAMPLE OR PRINTOUT ###
 cli -->

<p>The username can be anything. You will also be prompted to supply a password for the user. The command option <code>--password=$PASSWORD</code> can be used to specify one but, depending on your environment, this may pose a security risk.</p>

<div class="p-notification">
<p class="p-notification__response">At this time, MAAS does not make use of the email address. However, it may do so in the future.</p>
</div>

<p>Finally, the <code>createadmin</code> option asks for an SSH key:</p>
<p><img alt="create-admin-ssh-key-prompt|475x26" src="../imagesa9E7n9qKDwZCeuDvLKwyv3imTXE.jpeg"> </p>
<!-- ui
![create-admin-ssh-key-prompt|475x26](../imagesa9E7n9qKDwZCeuDvLKwyv3imTXE.jpeg) 
 ui -->

<!-- cli
### ADD SUITABLE CLI EXAMPLE OR PRINTOUT ###
 cli -->

<p>If you have an SSH key associated with your launchpad or github accounts, you can enter the username here to include the key.  For launchpad, just enter <code>lp:username</code>, and for github, enter <code>gp:username</code> at the prompt.  In both cases, the actual username has to be supplied after the <code>lp:</code> or <code>gh:</code> prefix. </p>

<p>If you don't have a key associated with either of these services, you will have an opportunity to paste your public key into the MAAS SSH key list, after you've started MAAS for the first time as part of the welcome screens.</p>

<p>Once all this is done, you&rsquo;re ready to access MAAS from the web UI and begin your <a href="https://maas.io/docs/configuration-journey">Configuration journey</a>.</p>
</div>
</body>
</html>